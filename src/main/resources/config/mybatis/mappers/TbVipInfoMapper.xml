<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.silita.dao.TbVipInfoMapper" >

  <insert id="insertVipInfo" parameterType="map">
       INSERT INTO mishu_write.`tb_vip_info` (
        v_id,
        user_id,
        `level`,
        expired_date,
        created
      )
      VALUES
        (#{vId},#{userId},1,#{expiredDate},NOW())
  </insert>
  <update id="updateVipIfo" parameterType="map">
      UPDATE mishu_write.`tb_vip_info` SET expired_date=#{expiredDate},updated=NOW() where user_id=#{userId}
  </update>
    <select id="queryVipInfoUserCount" resultType="java.util.Map" parameterType="map">
          SELECT v_id as vId,user_id as userId,expired_date as expiredDate FROM mishu_write.`tb_vip_info` WHERE user_id=#{userId}
    </select>
    <select id="queryVipInfoSingle" resultType="java.lang.String" parameterType="map">
         SELECT v_id as vId FROM mishu_write.`tb_vip_info` WHERE user_id=#{userId}
    </select>
    <select id="queryDate" resultType="java.lang.String" parameterType="map">
        SELECT expired_date as expiredDate FROM mishu_write.`tb_vip_info` WHERE user_id=#{userId}
    </select>
</mapper>